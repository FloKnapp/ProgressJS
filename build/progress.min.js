(()=>{var c={};(d=>{"use strict";let o={width:100,height:100,strokeWidth:10,fgColor:"#757AAE",bgColor:"#CCCCCC",duration:"2s",fontFamily:"Helvetica, Arial, sans-serif",fontSize:".8rem",fontColor:"#AAAAAA",fontWeight:"900",value:0,overall:100,suffix:"%",shadow:!1};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".progress-js").forEach(function(t){new r(t,{width:t.dataset.width,height:t.dataset.height,strokeWidth:t.dataset.strokeWidth,fgColor:t.dataset.fgColor,bgColor:t.dataset.bgColor,fontSize:t.dataset.fontSize,fontWeight:t.dataset.fontWeight,duration:t.dataset.duration,value:t.dataset.value,overall:t.dataset.overall,suffix:t.dataset.suffix,shadow:t.dataset.shadow}).render()})});let r=function(t,e){this.options={width:typeof e.width<"u"?e.width:o.width,height:typeof e.height<"u"?e.height:o.height,strokeWidth:typeof e.strokeWidth<"u"?e.strokeWidth:o.strokeWidth,fgColor:typeof e.fgColor<"u"?e.fgColor:o.fgColor,bgColor:typeof e.bgColor<"u"?e.bgColor:o.bgColor,duration:typeof e.duration<"u"?e.duration:o.duration,fontFamily:typeof e.fontFamily<"u"?e.fontFamily:o.fontFamily,fontSize:typeof e.fontSize<"u"?e.fontSize:o.fontSize,fontColor:typeof e.fontColor<"u"?e.fontColor:o.fontColor,fontWeight:typeof e.fontWeight<"u"?e.fontWeight:o.fontWeight,value:typeof e.value<"u"?e.value:o.value,overall:typeof e.overall<"u"?e.overall:o.overall,suffix:typeof e.suffix<"u"?e.suffix:o.suffix,shadow:typeof e.shadow<"u"?e.shadow:o.shadow},this._target=t instanceof HTMLElement?t:document.querySelector(t),this._id="progress-js-"+(d._instances.length+1),this._value=parseInt(""+this.options.value),this._previousValue=0,this._hasDomAppended=!1,this._svg=this.createCircularBars(),this._label=this.createLabel(),this._labelText=this._label.querySelector(".currentProgress"),this._primaryProgressBar=this._svg.querySelector(".progress-value"),this._target.id=this._id,this._target.style.position="relative",d._instances.push(this)};r.prototype.createCircularBars=function(){let t="http://www.w3.org/2000/svg",e=(this.options.width/2-this.options.strokeWidth).toString(),s=2*Math.PI*e,i=document.createElementNS(t,"svg");i.setAttribute("class","progress"),i.setAttribute("width",this.options.width.toString()),i.setAttribute("height",this.options.height.toString()),i.setAttribute("viewBox","0 0 "+this.options.width+" "+this.options.height),i.style.transform="rotate(-90deg)";let l=(u,f)=>{let a=document.createElementNS(t,"circle");return a.setAttribute("class",u),a.setAttribute("stroke",f),a.setAttribute("stroke-width",this.options.strokeWidth.toString()),a.setAttribute("fill","none"),a.setAttribute("cx",(this.options.width/2).toString()),a.setAttribute("cy",(this.options.height/2).toString()),a.setAttribute("r",e),a},h=l("progress-meter",this.options.bgColor);this.options.shadow&&(h.style.filter="drop-shadow(-2px 0px 1px rgba(0,0,0,0.3))");let n=l("progress-value",this.options.fgColor);return n.style.strokeDasharray=s.toString(),n.style.strokeDashoffset=s.toString(),n.style.animation="progress_".concat(this._id," this.options.duration"),n.style.transition="all ".concat(this.options.duration),i.appendChild(h),i.appendChild(n),this._primaryProgressBar=n,i},r.prototype.createLabel=function(){let t=document.createElement("div");t.className="label",t.style.lineHeight="18px",t.style.fontFamily=this.options.fontFamily,t.style.position="absolute",t.style.width="100%",t.style.height="100%";let e="0",s=document.createElement("span");return s.innerText=e,s.className="currentProgress",s.style.display="block",s.style.fontSize=this.options.fontSize,s.style.color=this.options.fgColor,s.style.fontWeight=this.options.fontWeight,s.style.position="absolute",s.style.left="50%",s.style.top="50%",s.style.transform="translate(-50%, -50%)",t.appendChild(s),t},r.prototype.update=function(t){this._previousValue=this._value,this._value=t,this.render()},r.prototype.calculate=function(){let t=null;this._value!==0&&this.options.overall!==0&&(t=this._value/this.options.overall);let e=t,s=this.options.width/2-this.options.strokeWidth,i=2*Math.PI*s,l=i*(1-e);return{progress:e,radius:s,circumference:i,offset:l}},r.prototype.animateCount=function(){let e=parseInt(this.options.duration)*1e3/50,s=this._previousValue,i=this._value-this._previousValue,l=0,h=()=>{let n=l/50,u=1-(1-n)*(1-n),f=i*u;s=this._previousValue+f,this._labelText.innerText=Math.round(s)+this.options.suffix,i>0&&s<this._value||i<0&&s>this._value?(l++,setTimeout(h,e)):this._labelText.innerText=this._value+this.options.suffix};h()},r.prototype.render=function(){let t=this.calculate();t.progress>1||(this._target.style.width=this.options.width+"px",this._target.style.height=this.options.height+"px",setTimeout(()=>{this._primaryProgressBar.style.strokeDasharray=t.circumference.toString(),this._primaryProgressBar.style.strokeDashoffset=t.offset.toString()},10),this._hasDomAppended||(this._hasDomAppended=!0,this._target.appendChild(this._label),this._target.appendChild(this._svg)),this.animateCount())},d={_instances:[],create:function(t,e){return new r(t,e)},update:function(t,e){let s=this._instances.find(i=>i._id===t);s?s.update(e):console.error("Progress item with id "+t+" not found.")}}})(c);})();
//# sourceMappingURL=progress.min.js.map
